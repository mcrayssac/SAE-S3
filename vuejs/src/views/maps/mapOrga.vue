<template>
  <b-container fluid :style="layoutHeight">
    <div class="map" id="map">
      <b-row>

        <b-col class="mt-3 svg-col" cols="12" lg="9">
          <div class="map_image" id="map_image">
            <svg
                class="svg-img"
                viewBox="0 0 297 179">
              <!-- =============================================================FOND============================================================= -->
              <rect
                  id="fondBeige"
                  width="298.50113"
                  height="179.66739"
                  x="-0.82075244"
                  y="-0.51355571"
                  ry="1.8452603"/>
              <!-- =============================================================LAC============================================================= -->
              <path
                  id="lac"
                  d="m 208.12456,73.482674 v 18.207674 c -0.6256,0.04304 -1.24622,0.160913 -1.84175,0.357601 -1.53303,0.506323 -2.89397,1.518764 -3.81941,2.841687 -1.07793,1.540945 -1.54785,3.460921 -1.49603,5.340764 0.0518,1.87985 0.60306,3.72276 1.41645,5.41831 0.7177,1.49608 1.63647,2.88652 2.40554,4.35685 0.76908,1.47033 1.39529,3.05786 1.45779,4.71601 0.0733,1.94369 -0.64106,3.85468 -1.69963,5.48648 -1.05859,1.6318 -2.44972,3.01808 -3.86127,4.35633 -1.41155,1.33823 -2.86164,2.64918 -4.07262,4.17132 -1.21098,1.52213 -2.18397,3.2858 -2.48512,5.20743 -0.41713,2.66177 0.52766,5.44778 2.27842,7.49567 1.75074,2.04789 4.24576,3.3855 6.87038,3.99407 2.62462,0.60857 5.37595,0.52114 8.02638,0.0372 2.65044,-0.48394 5.21413,-1.35559 7.7339,-2.30942 3.47575,-1.31572 6.91548,-2.80131 10.55749,-3.54139 3.64202,-0.74007 7.58016,-0.67743 10.89288,1.00717 1.7107,0.86995 3.18497,2.13237 4.64933,3.37293 1.46434,1.24054 2.95754,2.48499 4.69067,3.30935 3.12943,1.48854 6.81911,1.47242 10.16217,0.55966 3.34305,-0.91276 6.39532,-2.66049 9.30124,-4.54856 3.64649,-2.36925 7.1272,-4.99212 10.4159,-7.83725 h 2.43706 V 73.482674 Z"
                  transform="matrix(1.1096059,0,0,1.1096059,-15.837798,-15.157482)"/>
              <!-- =============================================================PARKING============================================================= -->
              <g transform="matrix(1.1096059,0,0,1.1096059,-15.837798,-15.157482)">
                <rect
                    id="zoneParking"
                    width="52.656708"
                    height="16.107714"
                    x="129.96384"
                    y="14.118636"
                />
                <text
                    transform="matrix(0.26458333,0,0,0.26458333,-14.172325,13.772211)"
                    id="textParking">
                  <tspan
                      x="636.0625"
                      y="38.651011">
                    P
                  </tspan>
                </text>
              </g>
              <!-- =============================================================FORET============================================================= -->
              <path
                  id="foret"
                  d="m 228.53287,13.75788 -46.98294,0.127027 0.4186,0.330067 -0.42271,-0.258899 c 0.39388,3.920352 -1.04905,7.986743 -3.82613,10.78177 -1.67447,1.685316 -3.75876,2.890466 -5.76657,4.16047 -2.0078,1.270004 -4.00611,2.66464 -5.38003,4.60282 -1.43202,2.02014 -2.07742,4.473051 -2.88148,6.815088 -0.40203,1.171017 -0.85192,2.331676 -1.46554,3.407027 -0.61362,1.075351 -1.39829,2.067435 -2.38849,2.810681 -1.60907,1.207769 -0.50198,0.309628 -1.89786,1.455791 -0.77746,0.63837 -1.03876,0.502249 -1.44997,1.624591 -2.01427,5.497613 -1.58304,4.722997 -1.09854,5.796658 0.0368,0.08152 -0.042,-0.111478 0.21019,0.792368 0.21223,0.760583 0.87351,0.768956 1.71457,1.123496 1.68212,0.709079 2.28421,0.953317 4.09989,0.76455 1.81568,-0.188769 1.35165,-0.464658 3.16717,-0.274422 0.90776,0.09512 1.80824,0.321671 2.61999,0.738973 0.81175,0.417304 1.53221,1.03212 2.00763,1.811259 0.63823,1.045951 0.79934,2.302056 1.09244,3.491777 0.14655,0.594859 0.33111,1.185211 0.62477,1.722892 0.29366,0.53768 0.70284,1.023329 1.22887,1.337386 0.42129,0.251527 0.90716,0.386501 1.39681,0.418062 0.48965,0.03156 0.98321,-0.03859 1.45418,-0.176216 0.94192,-0.275252 1.78345,-0.812507 2.59002,-1.371493 0.80656,-0.558985 1.60016,-1.150615 2.49339,-1.557011 0.89321,-0.406394 1.91275,-0.617073 2.86287,-0.371553 0.59767,0.154441 1.14436,0.485344 1.58182,0.920874 0.43745,0.435528 0.76758,0.973073 0.98908,1.549259 0.44301,1.152374 0.45024,2.431374 0.27182,3.653007 -0.47527,3.254119 -2.18667,6.179712 -3.92637,8.970512 -0.85081,1.364831 -1.72741,2.742364 -2.18747,4.28346 -0.23003,0.770547 -0.35212,1.578065 -0.30334,2.380733 0.0488,0.802668 0.27302,1.60119 0.69763,2.284098 0.60997,0.981025 1.60859,1.681157 2.6939,2.076876 1.08529,0.395717 2.25606,0.506261 3.41116,0.490926 2.31017,-0.03067 4.63496,-0.549048 6.91327,-0.165365 1.78359,0.30037 3.45973,1.157996 4.79299,2.380217 1.33326,1.222221 2.32561,2.800349 2.91352,4.510836 0.53787,1.564904 0.74929,3.247298 1.48724,4.728408 0.36898,0.74056 0.87482,1.42644 1.54358,1.9136 0.66876,0.48716 1.51123,0.76204 2.33216,0.65887 0.68891,-0.0866 1.32439,-0.42988 1.865,-0.86558 0.5406,-0.43571 0.99832,-0.96321 1.46141,-1.48055 0.46309,-0.51734 0.93958,-1.03155 1.50792,-1.43041 0.56833,-0.39886 1.24149,-0.6788 1.9358,-0.67335 0.65954,0.005 1.28666,0.26272 1.92494,0.42892 0.31914,0.0831 0.64644,0.14428 0.97617,0.13849 0.32973,-0.006 0.66361,-0.0814 0.94413,-0.25477 0.25058,-0.15488 0.45087,-0.383223 0.59841,-0.638201 0.14754,-0.254978 0.24415,-0.536552 0.31419,-0.822689 0.14011,-0.572272 0.17664,-1.168065 0.3483,-1.731677 0.23624,-0.775644 0.72059,-1.457602 1.29553,-2.029334 0.57494,-0.57173 1.24089,-1.042476 1.90841,-1.50275 6.57946,-4.536746 13.70697,-8.374654 21.36356,-10.665499 7.65658,-2.290845 15.87441,-2.991573 23.68744,-1.309998 1.63323,0.351516 3.2461,0.805534 4.89789,1.05575 1.65179,0.250215 3.36572,0.290575 4.96921,-0.178284 1.55592,-0.454949 2.9674,-1.391882 3.99097,-2.648934 1.01054,-1.241047 1.63651,-2.789082 1.77767,-4.383195 h 0.14056 V 13.949357 Z"
                  transform="matrix(1.1096059,0,0,1.1096059,-15.837798,-15.157482)"/>

              <!-- =============================================================CHEMINS============================================================= -->
              <g id="chemins">
                <path
                    d="m 170.98162,65.651611 c 6.35754,-6.432547 13.19322,-12.392423 20.43201,-17.814212 1.1479,-0.859764 2.33403,-1.735871 3.09302,-2.952749 0.3795,-0.608439 0.64298,-1.297945 0.69828,-2.012898 0.0553,-0.714952 -0.10677,-1.455552 -0.51177,-2.04732 -0.46207,-0.675155 -1.21365,-1.119408 -2.00822,-1.314379 -0.79456,-0.194972 -1.63118,-0.157528 -2.43624,-0.01182 -1.61011,0.291417 -3.13512,1.006647 -4.76513,1.149614 -1.71707,0.150604 -3.45985,-0.359474 -4.91369,-1.285412 -1.45385,-0.925938 -2.62905,-2.250482 -3.51582,-3.728543 -0.65325,-1.088836 -1.16137,-2.27782 -1.37023,-3.530289 -0.20886,-1.25247 -0.10693,-2.5728 0.40911,-3.732974 0.51604,-1.160175 1.46577,-2.145422 2.65418,-2.592631 0.5942,-0.223604 1.24089,-0.311657 1.87162,-0.239129 0.63072,0.07253 1.24414,0.307104 1.75298,0.686786 0.714,0.53277 1.19115,1.315676 1.65673,2.075205 0.46558,0.759528 0.957,1.53674 1.68746,2.046713 0.56473,0.394267 1.25055,0.605342 1.93901,0.625232 0.68845,0.01989 1.37797,-0.14811 1.99356,-0.457009 1.23118,-0.617798 2.13423,-1.777731 2.64221,-3.058133 0.50797,-1.280402 0.65143,-2.678474 0.64618,-4.05595 -0.005,-1.377476 -0.15379,-2.750254 -0.20717,-4.126705 -0.10528,-2.714885 0.18609,-5.525494 1.47676,-7.916278 0.64534,-1.195392 1.53837,-2.267062 2.64937,-3.0488011 1.11099,-0.7817391 2.44416,-1.2647612 3.80235,-1.2920252 1.24413,-0.024974 2.48333,0.3315003 3.56424,0.9480382 1.08091,0.616538 2.00676,1.4868278 2.75312,2.4825331 1.49271,1.99141 2.25464,4.43327 2.77957,6.866041 0.33344,1.545301 0.59789,3.150209 1.42709,4.496151 0.4146,0.672971 0.97188,1.269448 1.66094,1.656718 0.68906,0.387271 1.5156,0.553446 2.28713,0.381637 0.47417,-0.105591 0.91774,-0.335146 1.2912,-0.645808 0.37347,-0.310662 0.67765,-0.701092 0.90601,-1.129855 0.45673,-0.857526 0.60583,-1.851816 0.5824,-2.823105 -0.0469,-1.942578 -0.7496,-3.828658 -0.75896,-5.771778 -0.008,-1.605126 0.47048,-3.203888 1.3238,-4.5634263 0.85332,-1.3595383 2.07547,-2.4789765 3.48515,-3.2466256 2.81937,-1.5352981 6.32318,-1.6027638 9.32361,-0.4611044 3.10312,1.180733 5.60391,3.5041431 8.29126,5.4539253 1.34367,0.974891 2.75991,1.870435 4.30631,2.4742 1.54639,0.603766 3.2358,0.906726 4.87929,0.672589 1.29112,-0.183938 2.51719,-0.691642 3.66195,-1.316423 1.14476,-0.624782 2.2197,-1.368157 3.32207,-2.065006 1.10238,-0.6968495 2.24235,-1.3520397 3.4745,-1.7794152 1.23214,-0.4273756 2.56894,-0.6191679 3.84965,-0.3729487 0.91656,0.1762107 1.78975,0.5767364 2.51811,1.1603668 0.72836,0.5836301 1.31019,1.3496301 1.67244,2.2098061 0.36226,0.860175 0.50371,1.812929 0.40204,2.740718 -0.10166,0.92779 -0.44674,1.828448 -0.99508,2.583735 -0.54052,0.744524 -1.2703,1.341303 -2.0772,1.783336 -0.8069,0.442033 -1.6903,0.73323 -2.59015,0.924945 -1.79969,0.383431 -3.6561,0.37378 -5.49049,0.518392 -1.8344,0.144612 -3.70973,0.464173 -5.27931,1.424559 -0.78479,0.480192 -1.48044,1.119336 -1.96981,1.898434 -0.48937,0.779098 -0.76547,1.701567 -0.7191,2.620441 0.059,1.168576 0.6387,2.276898 1.47266,3.097597 0.83397,0.820699 1.90689,1.369942 3.0266,1.709499 2.23942,0.679116 4.63258,0.548776 6.95889,0.802715 3.66435,0.399998 7.21362,1.762376 10.89973,1.755977 1.84306,-0.0032 3.71918,-0.367867 5.30483,-1.307331 0.79282,-0.469732 1.50568,-1.080499 2.06329,-1.814181 0.55761,-0.733681 0.95759,-1.591468 1.12636,-2.49741 0.17189,-0.922654 0.10346,-1.87549 -0.0605,-2.799584 -0.16397,-0.924094 -0.42198,-1.828522 -0.63166,-2.743327 -0.20968,-0.914806 -0.37177,-1.848975 -0.33886,-2.786927 0.0329,-0.937952 0.27148,-1.886295 0.8057,-2.657944 0.54184,-0.782652 1.37239,-1.349926 2.28475,-1.621465 0.91236,-0.271539 1.90083,-0.254307 2.81903,-0.0032 1.83642,0.50212 3.32662,1.900417 4.32325,3.522536 0.98419,1.601873 1.54778,3.430836 1.89755,5.278073 0.34978,1.847237 0.4946,3.726018 0.7003,5.594792 0.22077,2.005706 0.51272,4.013941 0.45249,6.030862 -0.0602,2.01692 -0.49725,4.073111 -1.61854,5.750698 -1.00016,1.496361 -2.47286,2.59776 -3.84127,3.766897 -1.36841,1.169136 -2.70306,2.504338 -3.26088,4.215552 -0.49135,1.507287 -0.32041,3.174826 0.22971,4.661669 0.55012,1.486844 1.4579,2.815039 2.44388,4.056478 0.78853,0.992831 1.63673,1.946834 2.28435,3.036828 0.64762,1.089995 1.08992,2.349877 0.97097,3.612157 -0.1066,1.131253 -0.67217,2.203657 -1.5115,2.969574 -0.83932,0.765917 -1.94007,1.227676 -3.07052,1.342424 -1.13046,0.114748 -2.28624,-0.110438 -3.31487,-0.593158 -1.02863,-0.482721 -1.93121,-1.217679 -2.65509,-2.093519 -1.03552,-1.252905 -1.69901,-2.768314 -2.62589,-4.103589 -0.46345,-0.667637 -0.99781,-1.294439 -1.64565,-1.785172 -0.64784,-0.490733 -1.41606,-0.84133 -2.22519,-0.91769 -0.99647,-0.09404 -2.00257,0.234385 -2.84069,0.781514 -0.83811,0.547129 -1.52218,1.302001 -2.11489,2.108522 -1.18544,1.613041 -2.06599,3.488288 -3.58003,4.797811 -1.15186,0.996271 -2.63837,1.604943 -4.15961,1.676836 -1.52124,0.07189 -3.06673,-0.398369 -4.27466,-1.325869 -1.14329,-0.877871 -1.95748,-2.124427 -2.5456,-3.44044 -0.58812,-1.316013 -0.96834,-2.713128 -1.38932,-4.091734 -0.42098,-1.378605 -0.89057,-2.756981 -1.63696,-3.990141 -0.74638,-1.23316 -1.79583,-2.323358 -3.11964,-2.893702 -1.22778,-0.528969 -2.64414,-0.578432 -3.92498,-0.19541 -1.28084,0.383021 -2.42275,1.1864 -3.26591,2.22387 -0.84316,1.03747 -1.39173,2.301889 -1.63666,3.616142 -0.24494,1.314254 -0.19128,2.676745 0.0931,3.983037 0.3939,1.809531 1.22162,3.511128 1.51636,5.339428 0.14737,0.91415 0.1568,1.862582 -0.0908,2.754826 -0.24757,0.892244 -0.76776,1.726145 -1.53156,2.249599 -0.66033,0.452546 -1.46865,0.65387 -2.2685,0.686719 -0.79984,0.03285 -1.59753,-0.09389 -2.38262,-0.250309 -0.78509,-0.156419 -1.56585,-0.343208 -2.36132,-0.432924 -0.79548,-0.08971 -1.61387,-0.07956 -2.38002,0.152501 -1.18543,0.359058 -2.16696,1.231525 -2.85821,2.259303 -0.69126,1.027778 -1.11933,2.208257 -1.47854,3.39364 -0.35921,1.185383 -0.65748,2.392374 -1.12053,3.541177 -0.46305,1.148803 -1.10581,2.251869 -2.04354,3.061084 -1.16475,1.005127 -2.73477,1.490556 -4.27258,1.445014 -1.53781,-0.04554 -3.03848,-0.599493 -4.31494,-1.458314 -1.67239,-1.125207 -2.96484,-2.753776 -3.90269,-4.537994 -0.93784,-1.784218 -1.53843,-3.726465 -2.01757,-5.684375 -0.31283,-1.27833 -0.5835,-2.58868 -1.21355,-3.744111 -0.31503,-0.577715 -0.72023,-1.111705 -1.22795,-1.530288 -0.50773,-0.418582 -1.12144,-0.718437 -1.77312,-0.809617 -0.77609,-0.108587 -1.57088,0.08125 -2.2824,0.409632 -0.71153,0.328381 -1.3518,0.790538 -1.98265,1.255425 -0.63086,0.464887 -1.26142,0.938026 -1.96043,1.292253 -0.69902,0.354228 -1.47834,0.586735 -2.2603,0.535268 -0.68146,-0.04485 -1.3384,-0.304962 -1.9066,-0.68384 -0.56819,-0.378879 -1.05202,-0.87342 -1.47556,-1.409158 -0.84707,-1.071477 -1.46254,-2.310621 -2.30795,-3.383406 -1.38872,-1.762216 -3.39655,-3.026416 -5.58589,-3.517075 -2.18934,-0.490659 -4.54467,-0.204299 -6.55266,0.79667 z"
                    id="chemForet"
                />
                <path
                    d="m 296.62294,66.536344 c -0.39334,1.05353 -0.94741,2.046884 -1.63713,2.935097 -1.59383,2.052508 -3.92214,3.515347 -6.45589,4.092584 -2.53374,0.577236 -5.25477,0.270908 -7.61084,-0.825451 -1.16501,-0.542116 -2.256,-1.274992 -3.50044,-1.595151 -1.25594,-0.323119 -2.5878,-0.201526 -3.85279,0.08413 -1.26499,0.285658 -2.48816,0.730973 -3.74229,1.061043 -5.58815,1.470719 -11.54388,0.604481 -17.22452,1.663123 -5.31602,0.990691 -10.19626,3.636401 -14.58653,6.793457 -1.68611,1.212487 -3.31774,2.507304 -5.09242,3.586001 -1.77469,1.078698 -3.71791,1.944104 -5.77874,2.201132 -0.36348,0.04533 -0.73051,0.07181 -1.08733,0.154567 -0.35683,0.08276 -0.70829,0.226571 -0.97653,0.476007 -0.35476,0.329891 -0.53135,0.816649 -0.57673,1.298963 -0.0454,0.482314 0.0279,0.967127 0.10483,1.44543 0.0769,0.478302 0.15785,0.960985 0.12778,1.444494 -0.0301,0.48351 -0.18222,0.9757 -0.51538,1.327395 -0.26296,0.277592 -0.62321,0.450566 -0.99654,0.533203 -0.37334,0.08264 -0.76085,0.07982 -1.14159,0.04459 -0.76149,-0.07046 -1.52414,-0.268688 -2.28128,-0.161163 -0.47797,0.06788 -0.93305,0.256561 -1.34763,0.503924 -0.41458,0.247362 -0.79138,0.552881 -1.15573,0.869606 -0.7287,0.633449 -1.43319,1.329024 -2.31752,1.71661 -0.8829,0.386961 -1.90554,0.432237 -2.82776,0.151581 -0.92222,-0.280655 -1.73947,-0.880369 -2.30707,-1.659521 -0.32365,-0.444274 -0.56761,-0.942544 -0.89262,-1.385819 -0.16251,-0.221638 -0.34592,-0.429791 -0.56108,-0.600783 -0.21516,-0.170992 -0.46334,-0.304249 -0.73105,-0.366419 -0.35241,-0.08184 -0.72911,-0.03653 -1.06273,0.103437 -0.33362,0.139971 -0.62496,0.371495 -0.85722,0.648889 -0.46452,0.55479 -0.68721,1.272059 -0.82457,1.982484 -0.35505,1.836386 -0.20749,3.751801 0.29637,5.553055 0.50385,1.80125 1.35649,3.4928 2.39365,5.04929 0.56179,0.84309 1.17856,1.64963 1.71049,2.51187 0.53192,0.86224 0.9816,1.79111 1.16993,2.78656 0.33559,1.77377 -0.19258,3.62555 -1.1049,5.18329 -0.91232,1.55774 -2.18692,2.86691 -3.46585,4.14097 -1.63347,1.62726 -3.3006,3.23067 -4.74186,5.03038 -1.44125,1.79972 -2.66018,3.8169 -3.27063,6.04031 -0.67195,2.4474 -0.57031,5.11015 0.34165,7.47861 1.05955,2.75177 3.16347,5.02319 5.63703,6.6283 2.99253,1.94188 6.54089,2.96782 10.10498,3.12082 5.3835,0.23111 10.66507,-1.46857 15.62914,-3.56463 2.39743,-1.0123 4.75891,-2.12369 7.23255,-2.93211 1.81103,-0.59187 3.68596,-1.01999 5.58894,-1.11393 1.90298,-0.0939 3.83843,0.15416 5.60308,0.87261 3.29706,1.34234 5.71812,4.16957 8.58525,6.27955 3.15667,2.32306 6.99339,3.80598 10.91266,3.82989 4.51593,0.0275 8.83695,-1.84215 12.72185,-4.14475 3.0348,-1.79874 5.90429,-3.88549 8.48961,-6.28583 1.02659,-0.95314 2.01126,-1.95793 3.1307,-2.80009 1.11943,-0.84216 2.39691,-1.52423 3.78307,-1.72655 0.57533,-0.084 1.16285,-0.084 1.73818,0"
                    id="chemLac"
                />
                <path
                    d="m 162.72968,18.529967 c 0.22531,2.270065 0.0993,4.574662 -0.37219,6.806626 -0.64784,3.066821 -1.98291,6.039031 -4.15126,8.302513 -1.4357,1.498692 -3.18896,2.646553 -4.87289,3.859691 -1.68392,1.213138 -3.34245,2.535459 -4.4817,4.270227 -0.34786,0.529692 -0.64384,1.093434 -0.88233,1.680546"
                    id="chemParking"
                />
                <path
                    d="m 182.39437,137.0065 c -3.70794,-0.53314 -7.50372,-0.45026 -11.18485,0.24422 -5.79671,1.0936 -11.23518,3.67307 -17.03803,4.7336 -5.48504,1.00245 -11.12969,0.61692 -16.6583,-0.10769 -5.52861,-0.72461 -11.02132,-1.78529 -16.58657,-2.12968 -11.04403,-0.68342 -22.045854,1.4657 -33.088016,2.17866 -9.475082,0.61178 -19.01832,0.16191 -28.393834,-1.33849"
                    id="chemStand"
                />
              </g>
              <!-- =============================================================ROUTES============================================================= -->
              <g id="routes">
                <path
                    d="M 151.75662,93.974883 171.02058,67.902255"
                    id="RteVersForet"
                />
                <path
                    id="routePrincipale"
                    d="m 176.09399,167.96505 -52.68113,9.15194 -4.29836,1.875 m 32.4918,-85.30527 1.04379,30.93983 m 47.9266,-0.18051 -114.397484,-0.0772 c 0,0 -8.565724,0.36307 -12.848982,0.54421 -4.28326,0.18114 -11.154423,12.35849 -16.732033,18.53734 -5.577607,6.17885 -14.452687,17.16129 -21.679426,25.74154 -7.226742,8.58024 -20.026321,-18.02611 -20.026321,-18.02611 L 59.813476,98.134266 c 0,0 4.76127,-4.514493 7.141506,-6.772137 2.38024,-2.257642 2.708436,-23.343759 13.878688,-25.531901 11.367343,-2.22675 13.481816,-24.305213 20.50653,-25.67589 6.25152,-1.219809 28.15641,3.42569 40.58334,1.002439 11.69714,-2.280943 9.89417,26.234624 9.89417,26.234624 l -9.77641,18.021495 c 0,0 5.31343,5.15289 7.96975,7.728937 2.65632,2.576049 0.79796,1.072839 1.31622,1.097539 0.51825,0.02471 0.42243,-0.25856 0.42243,-0.25856"/>
                <path
                    id="toutesLesRoutes"
                    d="m 9.9241934,58.543615 c 0.7817026,2.451028 1.2020896,5.016961 1.2433846,7.589293 0.04973,3.097589 -0.44572,6.174231 -0.733165,9.258855 -0.287444,3.084624 -0.359773,6.250084 0.51142,9.223055 0.772898,2.637536 2.251555,5.002455 3.691619,7.343434 1.440064,2.340979 2.877407,4.739515 3.552375,7.403795 0.915956,3.615523 0.347535,7.483273 -0.965365,10.974303 -1.3129,3.49103 -3.336093,6.6647 -5.400675,9.7709 -3.7033269,5.57173 -7.5887709,11.02241 -11.64804092,16.34041 M 10.352142,47.579189 C 10.15849,43.797457 9.7632226,40.026058 9.1685802,36.286352 8.6212927,32.844462 7.9028267,29.400321 7.9698312,25.915835 8.0573311,21.365508 9.482468,16.920802 9.5785627,12.370648 9.6659224,8.2341028 8.6253768,4.0792298 6.5986985,0.47212398 M 16.88397,47.784192 c 3.169491,-1.532186 6.085907,-3.586357 8.596073,-6.054622 2.099962,-2.064908 3.906276,-4.404821 5.855946,-6.612188 1.949671,-2.207368 4.080838,-4.312037 6.648737,-5.754112 2.291678,-1.286956 4.850228,-2.002298 7.348469,-2.818897 2.498242,-0.8166 5.011609,-1.773676 7.038784,-3.44658 1.732438,-1.429676 3.025888,-3.314597 4.192518,-5.234047 1.16663,-1.91945 2.236699,-3.909034 3.628346,-5.672165 2.074554,-2.6283324 4.82565,-4.6869752 7.846042,-6.1323589 3.020393,-1.4453837 6.306694,-2.2907512 9.630091,-2.6993303 8.964036,-1.1020404 17.977317,0.9288398 26.980864,1.6391758 7.71763,0.6088834 15.51172,0.2420638 23.13805,-1.0889647 M 18.09842,56.781251 c -0.904571,3.393719 -0.162701,7.18682 1.953818,9.989662 1.350043,1.78782 3.204846,3.15822 5.228829,4.118641 2.023984,0.960421 4.217053,1.525214 6.429587,1.876801 4.425066,0.703175 8.954935,0.572085 13.368535,1.34397 9.776238,1.709744 18.63171,8.077034 23.365196,16.800117 m -0.726189,-0.47363 c 2.677963,0.932282 4.841037,3.226852 5.613841,5.955113 0.576182,2.034119 0.404356,4.227055 -0.186948,6.256835 -0.591304,2.02977 -1.585097,3.91834 -2.65537,5.74156 -2.275539,3.87641 -4.92836,7.53427 -6.96894,11.53935 -3.206121,6.2927 -4.829913,13.38393 -4.681563,20.44476 M 151.76967,65.918573 c -9.94322,1.626903 -19.0776,7.681617 -24.44889,16.205924 -1.41053,2.238537 -2.56829,4.627195 -3.94472,6.886861 -1.37643,2.259667 -3.00493,4.421307 -5.15115,5.968687 -2.96007,2.134149 -6.68514,2.940655 -10.32759,3.162462 -3.64245,0.221808 -7.29888,-0.0884 -10.944984,0.06188 -9.778072,0.403017 -19.381209,4.235812 -26.749623,10.676272 m -55.162041,42.22339 -15.25413565,12.15766 m 32.73723565,7.61481 c -3.642725,1.05665 -7.269159,2.16946 -10.877581,3.3379 -4.915611,1.59172 -9.797792,3.28668 -14.6422373,5.08338 M 19.868304,52.936954 c 5.253113,1.039409 10.819107,0.436391 15.727729,-1.703935 6.168961,-2.689877 11.22906,-7.686171 17.655664,-9.683742 6.351224,-1.974141 13.360016,-0.795708 19.702714,-2.797072 3.476193,-1.096872 6.592904,-3.103792 9.513905,-5.284342 2.921001,-2.180549 5.699049,-4.560558 8.757929,-6.543056 5.781238,-3.746893 12.404695,-5.972324 19.032855,-7.851001 5.85307,-1.658986 11.77417,-3.07792 17.74343,-4.252037 M 13.222965,46.910832 c -1.642163,6.4e-5 -3.2886262,0.604025 -4.4983874,1.71451 -1.2097612,1.110485 -1.9575489,2.72616 -1.9575488,4.368323 10e-8,1.642163 0.747788,3.257838 1.9575492,4.368322 1.2097612,1.110485 2.856224,1.714446 4.498387,1.71451 1.64225,6.4e-5 3.288847,-0.603834 4.498718,-1.714329 1.20987,-1.110495 1.957736,-2.726253 1.957736,-4.368503 0,-1.64225 -0.747866,-3.258008 -1.957736,-4.368504 -1.20987,-1.110495 -2.856468,-1.714393 -4.498718,-1.714329 z m 169.377255,77.829878 0.16655,35.39047 z m 0.0248,35.67162 c -1.64224,0 -3.28881,0.6039 -4.49869,1.71437 -1.20987,1.11048 -1.95776,2.72622 -1.95776,4.36846 0,1.64224 0.74789,3.25798 1.95776,4.36846 1.20987,1.11048 2.85645,1.71438 4.49869,1.71438 1.64224,0 3.28882,-0.60389 4.4987,-1.71437 1.20987,-1.11048 1.95776,-2.72623 1.95776,-4.36847 0,-1.64224 -0.74789,-3.25798 -1.95777,-4.36846 -1.20987,-1.11048 -2.85645,-1.71437 -4.49869,-1.71437 z m 6.35517,6.88337 107.2596,8.33593 z"/>
              </g>
              <!-- =============================================================COURSES COMPET============================================================= -->
              <g id="courses">
                <path
                    id="CoursePieds"
                    d="m 151.6063,93.68672 1.04379,30.93983 m -0.18778,-0.21223 -66.283104,-0.0455 c 0,0 -8.565724,0.36307 -12.848982,0.54421 -4.28326,0.18114 -11.154423,12.35849 -16.732033,18.53734 -5.577607,6.17885 -14.452687,17.16129 -21.679426,25.74154 C 27.692023,177.77215 14.892444,151.1658 14.892444,151.1658 L 59.813476,98.134266 c 0,0 4.76127,-4.514493 7.141506,-6.772137 2.38024,-2.257642 3.269936,-23.379789 13.514236,-25.709608 11.650964,-2.649731 13.703767,-26.466814 23.423522,-25.957737 8.20571,0.429778 25.60387,3.885244 38.0308,1.461993 11.69714,-2.280943 9.89417,26.234624 9.89417,26.234624 l -9.77641,18.021495 c 0,0 5.31343,5.15289 7.96975,7.728937 2.65632,2.576049 0.79796,1.072839 1.31622,1.097539 0.51825,0.02471 0.42243,-0.25856 0.42243,-0.25856"
                />
                <path
                    id="coursePiedsPetit"
                    d="m 151.76967,65.918573 c -9.94322,1.626903 -19.0776,7.681617 -24.44889,16.205924 -1.41053,2.238537 -2.56829,4.627195 -3.94472,6.886861 -1.37643,2.259667 -3.00493,4.421307 -5.15115,5.968687 -2.96007,2.134149 -6.68514,2.940655 -10.32759,3.162462 -3.64245,0.221808 -7.29888,-0.0884 -10.944984,0.06188 -9.778072,0.403017 -19.381209,4.235812 -26.749623,10.676272 m 81.497937,-42.59014 0.28765,1.605978 c -1.0358,1.613734 -2.04213,3.246391 -3.0183,4.896882 -1.39082,2.351568 -2.72025,4.739015 -4.01831,7.143028 -0.9683,1.793284 -1.91923,3.595942 -2.85263,5.407636 l 9.66473,9.428551 M 74.616244,105.46095 c -0.523697,0.51538 -1.070139,1.00765 -1.637201,1.4749 -0.803133,0.66176 -1.647516,1.2733 -2.431872,1.95721 -3.319251,2.8942 -5.407807,6.941 -7.026392,11.03661 -2.579405,6.52683 -4.163764,13.44585 -4.681563,20.44476 m 92.777194,-46.189851 1.03368,30.441971 -76.757782,0.18743 c -1.024414,-0.0758 -2.064611,0.0692 -3.029254,0.42222 -1.707076,0.62475 -3.112922,1.86194 -4.406723,3.13885 -3.672243,3.6243 -6.802969,7.79634 -9.25643,12.33522"/>
                <path
                    id="coursePiedsMoyenne"
                    d="m 67.718196,90.436812 c 2.677963,0.932282 4.841037,3.226852 5.613841,5.955113 0.576182,2.034119 0.404356,4.227055 -0.186948,6.256835 -0.591304,2.02977 -1.585097,3.91834 -2.65537,5.74156 -2.275539,3.87641 -4.92836,7.53427 -6.96894,11.53935 -3.206121,6.2927 -4.829913,13.38393 -4.681563,20.44476 m 8.303051,-49.612439 c 0.641405,-5.347081 2.202638,-10.582612 4.594566,-15.407688 0.952656,-1.92173 2.034829,-3.776896 3.172015,-5.595524 0.588112,-0.940529 1.210128,-1.892456 2.097863,-2.557584 0.824514,-0.617761 1.825886,-0.947817 2.820457,-1.216665 0.994572,-0.268848 2.010902,-0.489705 2.943599,-0.927344 1.496433,-0.702154 2.687519,-1.92015 3.727289,-3.205144 2.593082,-3.204645 4.43307,-6.936398 6.498156,-10.504204 1.342626,-2.319628 2.787398,-4.580519 4.065992,-6.936047 0.352387,-0.649196 0.692944,-1.306887 1.10782,-1.918041 0.414876,-0.611155 0.909264,-1.178703 1.519535,-1.594877 0.689961,-0.47052 1.506081,-0.731741 2.331601,-0.858077 0.82552,-0.126335 1.66504,-0.123241 2.4999,-0.102257 2.11361,0.05312 4.22286,0.218998 6.32779,0.417645 3.48871,0.329238 6.9682,0.748603 10.45162,1.129731 3.37447,0.369206 6.75739,0.702829 10.15143,0.764497 2.10175,0.03819 4.2114,-0.02861 6.28863,-0.351025 1.60434,-0.249012 3.19038,-0.650386 4.81183,-0.733025 1.32146,-0.06735 2.70497,0.09748 3.8214,0.807664 0.69311,0.440902 1.25033,1.07277 1.68679,1.76868 0.43646,0.695911 0.75816,1.457158 1.04853,2.225584 1.94657,5.151379 2.54414,10.705909 2.88302,16.202363 0.0909,1.474029 0.16251,2.972071 -0.16998,4.410983 -0.43609,1.887236 -1.53338,3.540608 -2.40567,5.270044 -1.66621,3.303506 -2.59674,7.061184 -5.04668,9.833764 -0.37979,0.42981 -0.79339,0.831964 -1.13005,1.296336 -0.33666,0.464373 -0.59708,1.006042 -0.61612,1.579293 -0.0213,0.640408 0.26153,1.258893 0.64697,1.770761 0.38544,0.511868 0.87172,0.937 1.33046,1.384366 1.08357,1.056711 2.02365,2.249143 3.01839,3.389868 1.13171,1.297794 2.33692,2.531481 3.60794,3.693176 m -0.2235,-0.614665 1.64623,30.441971 -76.757782,0.18743 c -1.024414,-0.0758 -2.064611,0.0692 -3.029254,0.42222 -1.707076,0.62475 -3.112922,1.86194 -4.406723,3.13885 -3.672243,3.6243 -6.802969,7.79634 -9.25643,12.33522"/>
                <path
                    d="m 170.98162,65.651611 c 6.35754,-6.432547 13.19322,-12.392423 20.43201,-17.814212 1.1479,-0.859764 2.33403,-1.735871 3.09302,-2.952749 0.3795,-0.608439 0.64298,-1.297945 0.69828,-2.012898 0.0553,-0.714952 -0.10677,-1.455552 -0.51177,-2.04732 -0.46207,-0.675155 -1.21365,-1.119408 -2.00822,-1.314379 -0.79456,-0.194972 -1.63118,-0.157528 -2.43624,-0.01182 -1.61011,0.291417 -3.13512,1.006647 -4.76513,1.149614 -1.71707,0.150604 -3.45985,-0.359474 -4.91369,-1.285412 -1.45385,-0.925938 -2.62905,-2.250482 -3.51582,-3.728543 -0.65325,-1.088836 -1.16137,-2.27782 -1.37023,-3.530289 -0.20886,-1.25247 -0.10693,-2.5728 0.40911,-3.732974 0.51604,-1.160175 1.46577,-2.145422 2.65418,-2.592631 0.5942,-0.223604 1.24089,-0.311657 1.87162,-0.239129 0.63072,0.07253 1.24414,0.307104 1.75298,0.686786 0.714,0.53277 1.19115,1.315676 1.65673,2.075205 0.46558,0.759528 0.957,1.53674 1.68746,2.046713 0.56473,0.394267 1.25055,0.605342 1.93901,0.625232 0.68845,0.01989 1.37797,-0.14811 1.99356,-0.457009 1.23118,-0.617798 2.13423,-1.777731 2.64221,-3.058133 0.50797,-1.280402 0.65143,-2.678474 0.64618,-4.05595 -0.005,-1.377476 -0.15379,-2.750254 -0.20717,-4.126705 -0.10528,-2.714885 0.18609,-5.525494 1.47676,-7.916278 0.64534,-1.195392 1.53837,-2.267062 2.64937,-3.0488011 1.11099,-0.7817391 2.44416,-1.2647612 3.80235,-1.2920252 1.24413,-0.024974 2.48333,0.3315003 3.56424,0.9480382 1.08091,0.616538 2.00676,1.4868278 2.75312,2.4825331 1.49271,1.99141 2.25464,4.43327 2.77957,6.866041 0.33344,1.545301 0.59789,3.150209 1.42709,4.496151 0.4146,0.672971 0.97188,1.269448 1.66094,1.656718 0.68906,0.387271 1.5156,0.553446 2.28713,0.381637 0.47417,-0.105591 0.91774,-0.335146 1.2912,-0.645808 0.37347,-0.310662 0.67765,-0.701092 0.90601,-1.129855 0.45673,-0.857526 0.60583,-1.851816 0.5824,-2.823105 -0.0469,-1.942578 -0.7496,-3.828658 -0.75896,-5.771778 -0.008,-1.605126 0.47048,-3.203888 1.3238,-4.5634263 0.85332,-1.3595383 2.07547,-2.4789765 3.48515,-3.2466256 2.81937,-1.5352981 6.32318,-1.6027638 9.32361,-0.4611044 3.10312,1.180733 5.60391,3.5041431 8.29126,5.4539253 1.34367,0.974891 2.75991,1.870435 4.30631,2.4742 1.54639,0.603766 3.2358,0.906726 4.87929,0.672589 1.29112,-0.183938 2.51719,-0.691642 3.66195,-1.316423 1.14476,-0.624782 2.2197,-1.368157 3.32207,-2.065006 1.10238,-0.6968495 2.24235,-1.3520397 3.4745,-1.7794152 1.23214,-0.4273756 2.56894,-0.6191679 3.84965,-0.3729487 0.91656,0.1762107 1.78975,0.5767364 2.51811,1.1603668 0.72836,0.5836301 1.31019,1.3496301 1.67244,2.2098061 0.36226,0.860175 0.50371,1.812929 0.40204,2.740718 -0.10166,0.92779 -0.44674,1.828448 -0.99508,2.583735 -0.54052,0.744524 -1.2703,1.341303 -2.0772,1.783336 -0.8069,0.442033 -1.6903,0.73323 -2.59015,0.924945 -1.79969,0.383431 -3.6561,0.37378 -5.49049,0.518392 -1.8344,0.144612 -3.70973,0.464173 -5.27931,1.424559 -0.78479,0.480192 -1.48044,1.119336 -1.96981,1.898434 -0.48937,0.779098 -0.76547,1.701567 -0.7191,2.620441 0.059,1.168576 0.6387,2.276898 1.47266,3.097597 0.83397,0.820699 1.90689,1.369942 3.0266,1.709499 2.23942,0.679116 4.63258,0.548776 6.95889,0.802715 3.66435,0.399998 7.21362,1.762376 10.89973,1.755977 1.84306,-0.0032 3.71918,-0.367867 5.30483,-1.307331 0.79282,-0.469732 1.50568,-1.080499 2.06329,-1.814181 0.55761,-0.733681 0.95759,-1.591468 1.12636,-2.49741 0.17189,-0.922654 0.10346,-1.87549 -0.0605,-2.799584 -0.16397,-0.924094 -0.42198,-1.828522 -0.63166,-2.743327 -0.20968,-0.914806 -0.37177,-1.848975 -0.33886,-2.786927 0.0329,-0.937952 0.27148,-1.886295 0.8057,-2.657944 0.54184,-0.782652 1.37239,-1.349926 2.28475,-1.621465 0.91236,-0.271539 1.90083,-0.254307 2.81903,-0.0032 1.83642,0.50212 3.32662,1.900417 4.32325,3.522536 0.98419,1.601873 1.54778,3.430836 1.89755,5.278073 0.34978,1.847237 0.4946,3.726018 0.7003,5.594792 0.22077,2.005706 0.51272,4.013941 0.45249,6.030862 -0.0602,2.01692 -0.49725,4.073111 -1.61854,5.750698 -1.00016,1.496361 -2.47286,2.59776 -3.84127,3.766897 -1.36841,1.169136 -2.70306,2.504338 -3.26088,4.215552 -0.49135,1.507287 -0.32041,3.174826 0.22971,4.661669 0.55012,1.486844 1.4579,2.815039 2.44388,4.056478 0.78853,0.992831 1.63673,1.946834 2.28435,3.036828 0.64762,1.089995 1.08992,2.349877 0.97097,3.612157 -0.1066,1.131253 -0.67217,2.203657 -1.5115,2.969574 -0.83932,0.765917 -1.94007,1.227676 -3.07052,1.342424 -1.13046,0.114748 -2.28624,-0.110438 -3.31487,-0.593158 -1.02863,-0.482721 -1.93121,-1.217679 -2.65509,-2.093519 -1.03552,-1.252905 -1.69901,-2.768314 -2.62589,-4.103589 -0.46345,-0.667637 -0.99781,-1.294439 -1.64565,-1.785172 -0.64784,-0.490733 -1.41606,-0.84133 -2.22519,-0.91769 -0.99647,-0.09404 -2.00257,0.234385 -2.84069,0.781514 -0.83811,0.547129 -1.52218,1.302001 -2.11489,2.108522 -1.18544,1.613041 -2.06599,3.488288 -3.58003,4.797811 -1.15186,0.996271 -2.63837,1.604943 -4.15961,1.676836 -1.52124,0.07189 -3.06673,-0.398369 -4.27466,-1.325869 -1.14329,-0.877871 -1.95748,-2.124427 -2.5456,-3.44044 -0.58812,-1.316013 -0.96834,-2.713128 -1.38932,-4.091734 -0.42098,-1.378605 -0.89057,-2.756981 -1.63696,-3.990141 -0.74638,-1.23316 -1.79583,-2.323358 -3.11964,-2.893702 -1.22778,-0.528969 -2.64414,-0.578432 -3.92498,-0.19541 -1.28084,0.383021 -2.42275,1.1864 -3.26591,2.22387 -0.84316,1.03747 -1.39173,2.301889 -1.63666,3.616142 -0.24494,1.314254 -0.19128,2.676745 0.0931,3.983037 0.3939,1.809531 1.22162,3.511128 1.51636,5.339428 0.14737,0.91415 0.1568,1.862582 -0.0908,2.754826 -0.24757,0.892244 -0.76776,1.726145 -1.53156,2.249599 -0.66033,0.452546 -1.46865,0.65387 -2.2685,0.686719 -0.79984,0.03285 -1.59753,-0.09389 -2.38262,-0.250309 -0.78509,-0.156419 -1.56585,-0.343208 -2.36132,-0.432924 -0.79548,-0.08971 -1.61387,-0.07956 -2.38002,0.152501 -1.18543,0.359058 -2.16696,1.231525 -2.85821,2.259303 -0.69126,1.027778 -1.11933,2.208257 -1.47854,3.39364 -0.35921,1.185383 -0.65748,2.392374 -1.12053,3.541177 -0.46305,1.148803 -1.10581,2.251869 -2.04354,3.061084 -1.16475,1.005127 -2.73477,1.490556 -4.27258,1.445014 -1.53781,-0.04554 -3.03848,-0.599493 -4.31494,-1.458314 -1.67239,-1.125207 -2.96484,-2.753776 -3.90269,-4.537994 -0.93784,-1.784218 -1.53843,-3.726465 -2.01757,-5.684375 -0.31283,-1.27833 -0.5835,-2.58868 -1.21355,-3.744111 -0.31503,-0.577715 -0.72023,-1.111705 -1.22795,-1.530288 -0.50773,-0.418582 -1.12144,-0.718437 -1.77312,-0.809617 -0.77609,-0.108587 -1.57088,0.08125 -2.2824,0.409632 -0.71153,0.328381 -1.3518,0.790538 -1.98265,1.255425 -0.63086,0.464887 -1.26142,0.938026 -1.96043,1.292253 -0.69902,0.354228 -1.47834,0.586735 -2.2603,0.535268 -0.68146,-0.04485 -1.3384,-0.304962 -1.9066,-0.68384 -0.56819,-0.378879 -1.05202,-0.87342 -1.47556,-1.409158 -0.84707,-1.071477 -1.46254,-2.310621 -2.30795,-3.383406 -1.38872,-1.762216 -3.39655,-3.026416 -5.58589,-3.517075 -2.18934,-0.490659 -4.54467,-0.204299 -6.55266,0.79667 z"
                    id="chemVTT"
                />
              </g>
              <!-- =============================================================STAND============================================================= -->
              <g id="stands" ref="stands">
                <a xlink:title="Premiers secours">
                  <g
                      id="standSecours"
                      transform="translate(34.869889,46.014811)">
                    <rect
                        id="zoneStandSecours"
                        width="8.8329029"
                        height="5.0165253"
                        x="136.47505"
                        y="96.078079"/>
                    <path
                        id="croixSecours"
                        d="m 139.14573,98.637622 3.56414,-0.0623 m -1.81575,-1.59522 0.0581,3.247388"/>
                  </g>
                </a>

                <a xlink:title="Association" ref="asso" v-b-modal.modal-asso>
                  <rect
                      id="association"
                      width="14.066713"
                      height="4.7733784"
                      x="125.09771"
                      y="80.633087"
                      transform="translate(34.869889,46.014811)"/>
                </a>

                <a v-for="(stand, index) in tabStands" :key="index"
                   :xlink:title="stand.id_prestataire == null ? stand.id_stand : stand.nom_prestataire"
                   :ref="stand.id_prestataire == null ? stand.id_stand : stand.nom_prestataire">
                  <rect v-if="stand.id_prestataire != null"
                        :transform="getRotation(index)"
                        :x="stand.coordonne_x" :y="stand.coordonne_y" width=6 height=5 :class="getClasses(index)"
                        v-b-modal.modal-stand-occupe
                        @click="selectStand(stand)"
                        @mouseover="interactivityHover(stand.nom_prestataire)"
                        @mouseleave="interactivityLeave(stand.nom_prestataire)">
                  </rect>
                  <rect v-else
                        :transform="getRotation(index)"
                        :x="stand.coordonne_x" :y="stand.coordonne_y" width=6 height=5 :class="getClasses(index)"
                        v-b-modal.modal-stand-dispo
                        @click="selectStand(stand)"
                        @mouseover="interactivityHover(stand.id_stand)"
                        @mouseleave="interactivityLeave(stand.id_stand)">
                  </rect>
                </a>
              </g>

              <!-- =============================================================SCENE============================================================= -->
              <g
                  id="scene">
                <a xlink:title="Scène" v-b-modal.modal-scene
                   @mouseover="interactivityHover('scene')"
                   @mouseleave="interactivityLeave('scene')" ref="scene">
                  <image
                      width="24.164036"
                      height="14.654137"
                      preserveAspectRatio="none"
                      xlink:href="https://cdn.discordapp.com/attachments/1030117715534434334/1047856764437147658/scene.png"
                      x="154.85576"
                      y="95.91536"/>
                </a>
              </g>

              <!-- =============================================================TOILETTES============================================================= -->
              <g id="toilettes">
                <g id="toilettes2"
                   transform="translate(23.132639,111.15349)">
                  <path
                      d="m 165.53822,14.54585 h 6.0185 v 3.512863 h -6.0185 z"/>
                  <text
                      transform="matrix(0.26458333,0,0,0.26458333,2.1166667,0.52916667)">
                    <tspan
                        x="618.75586"
                        y="63.818359">WC
                    </tspan>
                  </text>
                </g>
                <g id="toilettesParking">
                  <path
                      d="m 165.53822,14.54585 h 6.0185 v 3.512863 h -6.0185 z"/>
                  <text
                      transform="matrix(0.26458333,0,0,0.26458333,2.1166667,0.52916667)">
                    <tspan
                        x="618.75586"
                        y="63.818359"
                        id="tspan23570">WC
                    </tspan>
                  </text>
                </g>
              </g>

              <!-- =============================================================SENS INTERDITS============================================================= -->
              <g id="sensInterdit">
                <g
                    id="n1">
                  <ellipse
                      cx="6.8230348"
                      cy="157.6499"
                      rx="3.777607"
                      ry="3.5481031"/>
                  <rect
                      width="5.0947304"
                      height="1.2733327"
                      x="4.3324742"
                      y="157.06895"/>
                </g>
                <g
                    id="g2535"
                    transform="translate(225.07016,13.432093)">
                  <ellipse
                      cx="6.8230348"
                      cy="157.6499"
                      rx="3.777607"
                      ry="3.5481031"/>
                  <rect
                      width="5.0947304"
                      height="1.2733327"
                      x="4.3324742"
                      y="157.06895"/>
                </g>
                <g
                    id="g2535-2"
                    transform="translate(14.893478,-89.674093)">
                  <ellipse
                      cx="6.8230348"
                      cy="157.6499"
                      rx="3.777607"
                      ry="3.5481031"/>
                  <rect
                      width="5.0947304"
                      height="1.2733327"
                      x="4.3324742"
                      y="157.06895"/>
                </g>
                <g
                    id="g2535-2-6"
                    transform="translate(144.47529,14.610664)">
                  <ellipse
                      cx="6.8230348"
                      cy="157.6499"
                      rx="3.777607"
                      ry="3.5481031"/>
                  <rect
                      width="5.0947304"
                      height="1.2733327"
                      x="4.3324742"
                      y="157.06895"/>
                </g>
                <g
                    id="g2535-2-6-1"
                    transform="translate(13.063853,16.269053)">
                  <ellipse
                      cx="6.8230348"
                      cy="157.6499"
                      rx="3.777607"
                      ry="3.5481031"/>
                  <rect
                      width="5.0947304"
                      height="1.2733327"
                      x="4.3324742"
                      y="157.06895"/>
                </g>
              </g>
            </svg>
          </div>
        </b-col>

        <b-col cols="12" lg="3">
          <!------------------------------------------------------------ PARTIE LISTE ------------------------------------------------------------------>
          <b-row class="py-3 mt-3 mx-0 map_list">
            <b-row class="m-0" align-v="center" align-h="center">
              <b-col cols="auto">
                <b-button class="button-submit" v-b-toggle.sidebar-presta data-backdrop="true">
                  Voir la liste des prestataires
                </b-button>
              </b-col>
            </b-row>

            <b-row class="m-0" align-v="center" align-h="center">
              <hr class="hr-map-orga">
            </b-row>

            <b-row class="m-0" align-h="center" align-v="center">
              <b-col class="mb-3" cols="auto">
                <span class="title-filtre-besoin">Filtres des besoins</span>
              </b-col>
            </b-row>

            <b-row class="my-1 ms-1" v-for="(contrainte, index) in tabContraintes" :key="index">
              <b-col>
                <label class="map-check-label" :for="contrainte">
                  <input type="checkbox" :id="contrainte" :name="contrainte" @change="filtreStands(index)">
                  {{ contrainte }} </label>
              </b-col>
            </b-row>

            <!------------------------------------------------------------ Modal liste de prestataires ------------------------------------------------------------------>
            <b-sidebar ref="sidebar-presta" right shadow :style="layoutHeight"
                       id="sidebar-presta" aria-labelledby="sidebar-title" no-header>
              <template #default="{ hide }">
                <b-row class="m-0" align-h="center" align-v="center">
                  <b-col class="mt-3 mb-2 mx-0 px-0" cols="auto">
                    <h5 id="sidebar-title">Liste des prestataires</h5>
                  </b-col>
                </b-row>

                <b-row class="m-0" align-v="center" align-h="center">
                  <hr class="hr-map-sidebar">
                </b-row>

                <b-row class="mb-3 m-0" align-h="center" align-v="center">
                  <b-col cols="auto">
                    <h6> Prestataires placés </h6>
                    <b-row align-h="center" align-v="center">
                      <b-col cols="auto">
                        <a v-b-modal.modal-asso ref="asso"> Association </a>
                      </b-col>
                    </b-row>
                    <b-row align-h="center" align-v="center"
                           v-for="(presta, index) in tabStands" :key="index" :ref="presta.nom_prestataire"
                           @click="selectStand(presta)"
                           @mouseenter="interactivityHover(presta.nom_prestataire)"
                           @mouseleave="interactivityLeave(presta.nom_prestataire)">
                      <b-col cols="auto">
                        <a v-if="presta.id_prestataire != null" data-toggle="modal" v-b-modal.modal-stand-occupe>
                          {{ presta.nom_prestataire }} </a>
                      </b-col>
                    </b-row>
                  </b-col>
                </b-row>

                <b-row class="m-0" align-v="center" align-h="center">
                  <hr class="hr-map-sidebar">
                </b-row>

                <b-row class="mb-3 m-0" v-if="tabPrestataires.length > 0" align-h="center" align-v="center">
                  <b-col cols="auto">
                    <h6> Prestataires non placés </h6>
                    <b-row align-h="center" align-v="center"
                           v-for="(presta, i) in tabPrestataires" :key="'A'+ i" :ref="presta.nom_prestataire"
                           @mouseenter="interactivityHover(presta.nom_prestataire)"
                           @mouseleave="interactivityLeave(presta.nom_prestataire)">
                      <b-col cols="auto">
                        <a v-if="presta.id_stand == null"> {{ presta.nom_prestataire }} </a>
                      </b-col>
                    </b-row>
                  </b-col>
                </b-row>

                <b-row class="m-0" align-v="center" align-h="center">
                  <hr class="hr-map-sidebar">
                </b-row>

                <b-row class="m-0" align-h="center" align-v="center">
                  <b-col cols="auto">
                    <h6 id="list-scene" v-b-modal.modal-scene
                        @mouseover="interactivityHover('scene')"
                        @mouseleave="interactivityLeave('scene')"> Scene</h6>
                  </b-col>
                </b-row>

                <b-row class="mb-1 mt-3 m-0" align-h="center" align-v="center">
                  <b-button class="button-close" @click="hide">
                    <b-row align-h="center" align-v="center">
                      <b-col class="mx-0 px-0" cols="auto">
                        <span class="mb-3 sidebar-title" id="sidebar-title">Fermer</span>
                      </b-col>
                    </b-row>
                  </b-button>
                </b-row>
              </template>
            </b-sidebar>

            <!------------------------------------------------------------ Modal stand dispo ------------------------------------------------------------------>
            <b-modal ref="modal-stand-dispo" hide-backdrop hide-header-close no-fade no-stacking id="modal-stand-dispo"
                     :title="getTitle()">
              <h5> Contraintes du stand </h5> <br>
              {{searchClasses(this.standSelected.id_stand)}}
              <hr>
              <h5> Prestataire placé </h5> <br>
              <label for="select-presta"> Choisir un prestataire à placer : </label>
              <b-form-select v-model="prestaSelected" :options="getPrestaWithoutStands()"></b-form-select>
              <template #modal-footer>
                <b-row class="mx-auto">
                  <b-col cols="auto">
                    <b-button class="button-close" @click="hideStandDispoModal">Fermer</b-button>
                  </b-col>
                  <b-col cols="auto">
                    <b-button class="button-see" v-b-modal.modal-stand-valider>Valider</b-button>
                  </b-col>
                </b-row>
              </template>
            </b-modal>

            <!------------------------------------------------------------ Modal asso ------------------------------------------------------------------>
            <b-modal ref="modal-asso" hide-backdrop hide-header-close no-fade no-stacking centered id="modal-asso"
                     title="Association">
              ...
              <template #modal-footer>
                <b-row class="mx-auto">
                  <b-col cols="auto">
                    <b-button class="button-close" @click="hideAssoModal">Fermer</b-button>
                  </b-col>
                </b-row>
              </template>
            </b-modal>

            <!------------------------------------------------------------ Modal scène ------------------------------------------------------------------>
            <b-modal ref="modal-scene" hide-backdrop hide-header-close no-fade no-stacking centered id="modal-scene"
                     title="Scene">
              ...
              <template #modal-footer>
                <b-row class="mx-auto">
                  <b-col cols="auto">
                    <b-button class="button-close" @click="hideSceneModal">Fermer</b-button>
                  </b-col>
                </b-row>
              </template>
            </b-modal>

            <!------------------------------------------------------------ Modal stand occupé ------------------------------------------------------------------>
            <b-modal ref="modal-stand-occupe" hide-backdrop hide-header-close no-fade no-stacking
                     id="modal-stand-occupe" :title="getTitle()">
              <h5> Caractéristiques du stand </h5> <br>
              {{searchClasses(this.standSelected.id_stand)}}
              <template #modal-footer>
                <b-row class="mx-auto" align-h="center">
                  <b-col cols="auto">
                    <b-button class="button-close" @click="hideStandOccupeModal">Fermer</b-button>
                  </b-col>
                  <b-col cols="auto">
                    <b-button class="button-see">Voir la page du prestataire</b-button>
                  </b-col>
                </b-row>
              </template>
            </b-modal>

            <!------------------------------------------------------------ Modal pop-up valider prestataire ------------------------------------------------------------------>
            <b-modal ref="modal-stand-valider" hide-backdrop no-fade hide-header id="modal-stand-valider">
              <h5> Etes-vous sûr de vouloir placer le prestataire {{prestaSelected}} à ce stand ? </h5>
              <template #modal-footer>
                <b-row class="mx-auto">
                  <b-col cols="auto">
                    <b-button class="button-close" @click="hideStandValiderModal">Annuler</b-button>
                  </b-col>
                  <b-col cols="auto">
                    <b-button class="button-see" @click="placePrestataire">Valider</b-button>
                  </b-col>
                </b-row>
              </template>
            </b-modal>

          </b-row>
        </b-col>
      </b-row>


    </div>
  </b-container>
</template>

<script>
import axios from "axios";
import {mapState} from "vuex";

export default {
  name: "mapOrga",
  data: () => ({
    tabStands: [],
    tabContraintes: [],
    filterChecked: [],
    tabContraintesClasses: [],
    tabPrestataires: [],
    prestaSelected: null,
    standSelected: {id_prestataire: 1, id_stand:0}
  }),
  methods: {
    deg_to_rad(degree) {
      return (degree * Math.PI) / 180
    },
    hideStandDispoModal() {
      this.$refs['modal-stand-dispo'].hide()
    },
    hideStandValiderModal() {
      this.$refs['modal-stand-valider'].hide()
    },
    hideSceneModal() {
      this.$refs['modal-scene'].hide()
    },
    hideStandOccupeModal() {
      this.$refs['modal-stand-occupe'].hide()
    },
    hideAssoModal() {
      this.$refs['modal-asso'].hide()
    },
    interactivityHover(id) {
      this.interactivityReset()
      if (id === 'scene') {
        this.$refs[id].classList.add('is-active')
      } else {
        if(this.$refs[id].length === 3){
          this.$refs[id][1].classList.add('is-active')
        }
        this.$refs[id][0].getElementsByTagName('rect')[0].classList.add('is-active')
      }
    },
    interactivityLeave(id) {
      if (id === 'scene') {
        this.$refs[id].classList.remove('is-active')
      } else {
        this.$refs[id][0].getElementsByTagName('rect')[0].classList.remove('is-active')
        if(this.$refs[id].length === 3) {
          this.$refs[id][1].classList.remove('is-active')
        }
      }
    },
    interactivityReset() {
      for (let i = 0; i < this.tabStands.length; i++) {
        if (this.tabStands[i].id_prestataire == undefined) {
          this.$refs[this.tabStands[i].id_stand][0].getElementsByTagName('rect')[0].classList.remove('is-active')
        } else {
          this.$refs[this.tabStands[i].nom_prestataire][0].getElementsByTagName('rect')[0].classList.remove('is-active')
          this.$refs[this.tabStands[i].nom_prestataire][1].classList.remove('is-active')
        }
      }
    },
    filtreStands(id) {
      this.interactivityReset();
      this.filterChecked[id] = !this.filterChecked[id]
      // Récupère toutes les balises rect
      let stands = Array.from(this.$refs.stands.getElementsByTagName('rect'))
      let checkedContraintes = []
      for (let i = 0; i < this.filterChecked.length; i++) {
        if (this.filterChecked[i])
          checkedContraintes.push(this.tabContraintes[i])
      }
      if (checkedContraintes.length != 0) {
        let filtered = stands.filter(stand => {
          let temp;
          let res = true;
          // Concatène les classes d'un stand
          let classes = Object.values(stand.classList).join(' ')
          for (let i = 0; i < checkedContraintes.length; i++) {
            // Si le stand possède la contrainte dans ses classes et que la contrainte est sélectionnée, return true sinon false
            temp = (classes.toLowerCase().match(checkedContraintes[i].toLowerCase())) && this.filterChecked[this.tabContraintes.indexOf(checkedContraintes[i])] ? true : false;
            res = res && temp
          }
          return res;
        })
        filtered.forEach(stand => stand.classList.add('is-active'))
      }
    },
    getClasses(id) {
      let classes = ""
      let filtered = this.tabContraintesClasses.filter(contrainte => contrainte.id_stand === id + 1)
      filtered.forEach(filter => classes += filter.libelle_contrainte + " ")
      if (this.tabStands[id].id_prestataire == null) {
        classes += "is-available"
      }
      return classes
    },
    searchClasses(index){
      let classes = ""
      let filtered = this.tabContraintesClasses.filter(contrainte => contrainte.id_stand === index)
      filtered.forEach(filter => classes += filter.libelle_contrainte + ", ")
      classes = classes.slice(0,(classes.length-2))
      return classes
    },
    getRotation (index) {
      return 'rotate(' + this.tabStands[index].rotation + ',' + this.tabStands[index].coordonne_x + ', ' + this.tabStands[index].coordonne_y +')'
    },
    getTitle(){
      let title = ""
      if(this.standSelected.id_prestataire == null){
        title += "Stand " + this.standSelected.id_stand
      }
      else title += this.standSelected.nom_prestataire
      return title
    },
    getPrestaWithoutStands(){
      let tab = []
      this.tabPrestataires.forEach(presta => {
        if(presta.id_stand == null)
          tab.push(presta.nom_prestataire)
      })
      return tab
    },
    placePrestataire() {
      this.$refs['modal-stand-valider'].hide()
      console.log(this.prestaSelected)
      let findPresta = this.tabPrestataires.find(presta => presta.nom_prestataire == this.prestaSelected)
      axios.put(`http://localhost:3000/map/presta/stand/`+findPresta.id_prestataire + '?idStand='+this.standSelected.id_stand)
          .then(result => {
            console.log("success")
          })
          .catch((err) => {
            console.log("failed")
          });
      this.prestaSelected = null
      location.reload()
    },
    selectStand(stand){
      this.standSelected = stand
    }
  },
  computed: {
    ...mapState(['userInfos', 'layoutHeight'])
  },
  async updated() {
    setTimeout(async () => {
      if (this.userInfos.admin !== 'organisateur') await this.$router.push({name: 'home'});
    }, "1000")
  },
  async created() {
    // Données globales d'un stand (x, y, prestataire, ...)
    await axios.get(`http://localhost:3000/map/stands/all`)
        .then(result => {
          this.tabStands = result.data.data
        })
        .catch((err) => {
          let message = typeof err.response !== "undefined" ? err.response.data.message : err.message;
          console.warn("error", message);
        });

    // Liste de toutes les contraintes
    await axios.get(`http://localhost:3000/map/contraintes`)
        .then(result => {
          this.tabContraintes = result.data.data
          this.tabContraintes = this.tabContraintes.map(c => c.libelle_contrainte);
          for (let i = 0; i < this.tabContraintes.length; i++) {
            this.filterChecked.push(false)
          }
        })
        .catch((err) => {
          let message = typeof err.response !== "undefined" ? err.response.data.message : err.message;
          console.warn("error", message);
        });

    // Liste des contraintes de chaque stand (SELECT de Possede)
    await axios.get(`http://localhost:3000/map/stands/contraintes`)
        .then(result => {
          this.tabContraintesClasses = result.data.data
        })
        .catch((err) => {
          let message = typeof err.response !== "undefined" ? err.response.data.message : err.message;
          console.warn("error", message);
        });

    // Liste de tous les prestataires
    await axios.get(`http://localhost:3000/prestataires`)
        .then(result => {
          this.tabPrestataires = result.data.data
        })
        .catch((err) => {
          let message = typeof err.response !== "undefined" ? err.response.data.message : err.message;
          console.warn("error", message);
        });
  }
}

</script>

<style scoped>
@import '../../../public/css/maps/mapsFond.css';
@import '../../../public/css/maps/mapOrga.css';
</style>