<div class="slideshow-container">
    <div class="mySlides fade">
        <img src="https://cdn.discordapp.com/attachments/894224051571138560/1028048900860428371/image_home_2_filter1.png" style="width:100%">
    </div>
    <div class="mySlides fade">
        <img src="https://cdn.discordapp.com/attachments/894224051571138560/1028050754042351707/image_home_3_filter1.png" style="width:100%">
    </div>
    <div class="mySlides fade">
        <img src="https://cdn.discordapp.com/attachments/894224051571138560/1028050937757040640/image_home_4_filter1.png" style="width:100%">
    </div>
    <div class="mySlides fade">
        <img src="https://cdn.discordapp.com/attachments/894224051571138560/1028051419237994566/image_home_5_filter1.png" style="width:100%">
    </div>
</div>
<br>

<div class="container">
    <div class="row center">
        <h1 style="color: #021331">LAKESIDE SPORTS FESTIVAL</h1>
    </div>
    <br><br>
    <div class="row paragraphe">
        <a><h2>POURQUOI CET EVENEMENT ?</h2>
            Venez participer au travers de nombreuses épreuves et récolter des fonds pour l’association APF ! <br><br>
            Natation, athlétisme, VTT et bien d’autres encore seront au rendez-vous pour vous faire passer un moment inoubliable entre amis, en famille ou en solitaire.<br>
            Alors n’hésitez plus et ressortez vos vieilles baskets du placard pour venir vous challenger dans la bonne humeur !<br>
            Tous les bénéfices de cet évènement seront reversés à l’association APF pour aider à inclure les personnes à mobilité réduite dans le monde du sport. <br><br>
            Pour plus d’informations, voir sur la page d’APF.<br>
        </a>
    </div>
    <div class="row" style="margin-top: 20px">
        <a class="center" href="https://www.apf-francehandicap.org/" target="_blank">
            <img src="https://upload.wikimedia.org/wikipedia/fr/thumb/1/16/Logo_APF_France_Handicap_2018.svg/langfr-195px-Logo_APF_France_Handicap_2018.svg.png">
        </a>
    </div>

    {{# if cagnotte}}
        <div class="row ligne"></div>
        <div class="row center">
            <h1>Notre cagnotte</h1>
        </div>
        <div class="row">
            <div class="col">
                <div class="circular-progress">
                    <span class="progress-value">0%</span>
                </div>
            </div>
            <div class="col my-auto" style="font-size: xx-large;
            font-family: 'Montserrat', sans-serif; font-weight: 300; vertical-align: center;">
                <div class="row center">
                    <a><a style="color: #6ec8cb; font-size: xxx-large;" id="compteur">{{cagnotte.cagnotte}}</a> € récoltés</a>
                </div>
                <div class="row center">
                    <a>Objectif : <a id="objectif" style="color: #6ec8cb; font-size: xxx-large;">{{cagnotte.objectif}}</a> €</a>
                </div>
            </div>
        </div>
    {{/if}}

    <div class="row ligne"></div>
    <h3>Palettes de couleurs</h3>
    <div class="row" style="border: 2px solid #1a265a;">
        <div class="col text-center" style="background-color: #495388; height: 100px; width: 100px;"></div>
        <div class="col text-center" style="background-color: #ffffff"></div>
        <div class="col text-center" style="background-color: #6ec8cb"></div>
        <div class="col text-center" style="background-color: #d9231a"></div>
        <div class="col text-center" style="background-color: #021331"></div>
    </div>
    <div class="row" style="border: 2px solid #1a265a;">
        <div class="col text-center">
            <a>#495388</a>
        </div>
        <div class="col text-center">
            <a>#ffffff</a>
        </div>
        <div class="col text-center">
            <a>#6ec8cb</a>
        </div>
        <div class="col text-center">
            <a>#d9231a</a>
        </div>
        <div class="col text-center">
            <a>#021331</a>
        </div>
    </div>
</div><br><br>

<script>
    let slideIndex = 0;
    showSlides();
    function showSlides() {
        let slides = document.getElementsByClassName("mySlides");
        for (let i = 0; i < slides.length; i++) {
            slides[i].style.display = "none";
        }
        slideIndex++;
        if (slideIndex > slides.length) {slideIndex = 1}
        slides[slideIndex-1].style.display = "block";
        setTimeout(showSlides, 20000);
    }

    let n = {{cagnotte.cagnotte}};
    let cpt = {{cagnotte.cagnotte}}-500;
    let delta = Math.ceil((0.01 * 1000) / n);
    function countdown() {
        document.getElementById("objectif").innerHTML = ({{cagnotte.objectif}}).toString().replace(/\B(?=(\d{3})+(?!\d))/g, ',');
        document.getElementById("compteur").innerHTML = (++cpt).toString().replace(/\B(?=(\d{3})+(?!\d))/g, ',');
        if( cpt < n ) setTimeout(countdown, delta);
    }
    setTimeout(countdown, delta);

    let circularProgress = document.querySelector(".circular-progress"),
            progressValue = document.querySelector(".progress-value");

    let progressStartValue = 0,
            progressEndValue = {{cagnotte.pourcentage}};
    speed = 100-progressEndValue;

    let progress = setInterval(() => {
        progressStartValue++;
        progressValue.textContent = `${progressStartValue}%`
        circularProgress.style.background = `conic-gradient(#6ec8cb ${progressStartValue * 3.6}deg, #ededed 0deg)`
        if(progressStartValue == progressEndValue){
            clearInterval(progress);
        }
    }, speed);

</script>